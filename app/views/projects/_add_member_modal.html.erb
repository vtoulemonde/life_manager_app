
<script type="text/ng-template" id="myModalAddMember.html">
    <div class="modal-header">
        <h3 class="modal-title">Manage members</h3>
    </div>
    <div class="modal-body">
        <h4>Members of the project</h4>
        <ul class="list-group">
          <li class="list-group-item list-group-item-info" ng-repeat="member in allMembers">{{member.user.username}}
            <button ng-click="removeMember(member)" 
                    type="button" 
                    class="btn btn-default btn-xs pull-right"
                    ng-hide="member.user.id === <%=current_user.id%>">
                <span class="glyphicon glyphicon-remove"></span>
            </button>
          </li>
        </ul>
        
        <h4>Add a member</h4>
        <input type="text" class="form-control" ng-model="searchText" placeholder="Search..."><br>
        <ul class="list-group" ng-show="searchText !== ''">
          <li class="list-group-item" ng-repeat="user in users | filter:{username:searchText}">
            {{user.username}}
            <button ng-click="addMember(user)" type="button" class="btn btn-default btn-xs pull-right">
                <span class="glyphicon glyphicon-plus"></span>
            </button>

          </li>
        </ul>
    </div>
    <div class="modal-footer">
        <button class="btn btn-default" ng-click="ok()">Close</button>
    </div>
</script>